<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Potato App</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="/bower_components/angular-material/angular-material.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <!-- build:css({.tmp,src}) styles/vendor.css -->
    <!-- bower:css -->
    <!-- run `gulp inject` to automatically populate bower styles dependencies -->
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css({.tmp,src}) styles/app.css -->
    <link rel="stylesheet" href="index.css"/>
    <!-- endbuild -->
  </head>


  <body ng-app="app">

    <div class="container">
      <header>
        <h1>Flickr Public Feed</h1>
      </header>

      <!-- main view controller -->
      <div ng-controller="MainController as main"
           class="main__wrapper"
           ng-show="main.PhotoService.mainViewActive">
        <div class="card__row"
             ng-repeat="photo in main.photos.items track by $index">
          <div class="card__inner">
            <div class="card__media">
              <a href="" ng-click="main.showPost(photo)"><img ng-src="{{photo.media.m}}" alt=""></a>
            </div>
            <div class="card__spacer"></div>
            <div class="card__details card__details--mobile">
              <div class="card__title">
                <a href="" ng-click="main.showPost(photo)"><h2>{{photo.title | limitTo: 30}} {{photo.title.length < 30 ? '' : '...'}}</h2></a>
              </div>
              <div class="card__date">
                <span>Published: {{photo.published | date:"d/M/yyyy HH:mm:ss"}}</span>
              </div>
              <div class="card__links">
                <a class="link__author" ng-href="https://www.flickr.com/photos/{{photo.author_id}}">{{photo.author}}</a>
                <a class="link__flickr" ng-href="{{photo.link}}">View on Flickr</a>
              </div>
            </div>
            <div class="card__details card__details--desktop">
              <div class="card__title">
                <a href="" ng-click="main.showPost(photo)"><h2>{{photo.title | limitTo: 30}} {{photo.title.length < 30 ? '' : '...'}}</h2></a>
              </div>
              <div class="card__info">
                <div class="card__links">
                  <a class="link__author" ng-href="https://www.flickr.com/photos/{{photo.author_id}}">{{photo.author}}</a>
                  <span>Published: {{photo.published | date:"d/M/yyyy HH:mm:ss"}}</span>
                  <a class="link__flickr" ng-href="{{photo.link}}">View on Flickr</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div> <!-- main view controller -->

      <!-- post view controller -->
      <div ng-controller="PostController as post"
           class="post__wrapper"
           ng-show="post.PhotoService.postViewActive">
        <div class="card__row">
          <div class="card__inner">
            <button ng-click="post.showMain()" class="btn__back">Back</button>
            <div class="card__title">
              <a ng-href="{{post.PhotoService.currentPhoto.link}}"><h2>{{post.PhotoService.currentPhoto.title | limitTo: 30}} {{photo.title.length < 30 ? '' : '...'}}</h2></a>
            </div>
            <div class="card__links">
              <a class="link__author" ng-href="https://www.flickr.com/photos/{{post.PhotoService.currentPhoto.author_id}}">{{post.PhotoService.currentPhoto.author}}</a><span>| Published: {{post.PhotoService.currentPhoto.published | date:"d/M/yyyy HH:mm:ss"}}</span>
            </div>
            <div class="card__media">
              <img ng-src="{{post.PhotoService.currentPhoto.media.m}}" alt="">
            </div>
            <div class="card__tags">
              <span>Tags: {{post.PhotoService.currentPhoto.tags | limitTo: 100}} {{photo.title.length < 100 ? '' : '...'}}</span>
            </div>
          </div>
        </div>
      </div> <!-- post view controller -->

    </div>

  </body>

  <!-- build:js({.tmp,src}) scripts/vendor.js -->
  <!-- bower:js -->
  <script src="/bower_components/angular-aria/angular-aria.js"></script>
  <script src="/bower_components/angular-animate/angular-animate.js"></script>
  <script src="/bower_components/angular-material/angular-material.js"></script>
  <!-- run `gulp inject` to automatically populate bower script dependencies -->
  <!-- endbower -->
  <!-- endbuild -->

  <!-- build:js({.tmp,src}) scripts/app.js -->
  <!-- inject:js -->
  <!-- js files will be automatically insert here -->
  <!-- endinject -->
  <!-- inject:partials -->
  <!-- angular templates will be automatically converted in js and inserted here -->
  <!-- endinject -->
  <!-- endbuild -->
</html>
